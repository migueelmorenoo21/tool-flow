"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/register/route";
exports.ids = ["app/api/auth/register/route"];
exports.modules = {

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.js&appDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.js&appDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_migue_Desktop_ejercicios_react_tool_flow_src_app_api_auth_register_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/register/route.js */ \"(rsc)/./src/app/api/auth/register/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/register/route\",\n        pathname: \"/api/auth/register\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/register/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\migue\\\\Desktop\\\\ejercicios-react\\\\tool-flow\\\\src\\\\app\\\\api\\\\auth\\\\register\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_migue_Desktop_ejercicios_react_tool_flow_src_app_api_auth_register_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/register/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGcmVnaXN0ZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZyZWdpc3RlciUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtaWd1ZSU1Q0Rlc2t0b3AlNUNlamVyY2ljaW9zLXJlYWN0JTVDdG9vbC1mbG93JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNtaWd1ZSU1Q0Rlc2t0b3AlNUNlamVyY2ljaW9zLXJlYWN0JTVDdG9vbC1mbG93JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQytDO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWFwcC8/OTUxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxtaWd1ZVxcXFxEZXNrdG9wXFxcXGVqZXJjaWNpb3MtcmVhY3RcXFxcdG9vbC1mbG93XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxccmVnaXN0ZXJcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvcmVnaXN0ZXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL3JlZ2lzdGVyXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcbWlndWVcXFxcRGVza3RvcFxcXFxlamVyY2ljaW9zLXJlYWN0XFxcXHRvb2wtZmxvd1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHJlZ2lzdGVyXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvcmVnaXN0ZXIvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.js&appDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/register/route.js":
/*!********************************************!*\
  !*** ./src/app/api/auth/register/route.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_2__);\n// src/app/api/auth/register/route.js\n// 1. Esto fuerza que Next.js utilice el runtime de Node.js\nconst runtime = \"nodejs\";\n\n\n\n// 2. Leemos y comprobamos la URL de conexión\nconst connectionString = process.env.DATABASE_URL;\nif (!connectionString) {\n    console.error(\"\\uD83D\\uDCCC No existe DATABASE_URL en process.env\");\n}\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_2__.Pool({\n    connectionString\n});\nasync function POST(req) {\n    let client;\n    try {\n        const { nombre, apellido, email, username, password } = await req.json();\n        if (!nombre || !email || !username || !password) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Faltan campos obligatorios\"\n            }, {\n                status: 400\n            });\n        }\n        client = await pool.connect();\n        // 3. Comprobamos usuario y email\n        const { rows: userRows } = await client.query(\"SELECT 1 FROM usuarios WHERE username = $1\", [\n            username\n        ]);\n        if (userRows.length) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Usuario ya existe\"\n            }, {\n                status: 409\n            });\n        }\n        const { rows: personaRows } = await client.query(\"SELECT 1 FROM personas WHERE email = $1\", [\n            email\n        ]);\n        if (personaRows.length) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Email ya registrado\"\n            }, {\n                status: 409\n            });\n        }\n        // 4. Hash de la contraseña\n        const saltRounds = 10;\n        const password_hash = await bcrypt__WEBPACK_IMPORTED_MODULE_1___default().hash(password, saltRounds);\n        // 5. Transacción para insertar ambas filas\n        await client.query(\"BEGIN\");\n        const personaRes = await client.query(`INSERT INTO personas (nombre, apellido, email)\r\n       VALUES ($1, $2, $3)\r\n       RETURNING id`, [\n            nombre,\n            apellido || null,\n            email\n        ]);\n        const personaId = personaRes.rows[0].id;\n        await client.query(`INSERT INTO usuarios (persona_id, username, password_hash)\r\n       VALUES ($1, $2, $3)`, [\n            personaId,\n            username,\n            password_hash\n        ]);\n        await client.query(\"COMMIT\");\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Usuario creado\"\n        }, {\n            status: 201\n        });\n    } catch (err) {\n        // Si hay error durante la transacción, hacemos rollback\n        if (client) {\n            try {\n                await client.query(\"ROLLBACK\");\n            } catch (rollbackErr) {\n                console.error(\"Rollback error:\", rollbackErr);\n            }\n        }\n        console.error(\"Register API error:\", err);\n        // Manejo de errores únicos de PostgreSQL\n        if (err.code === \"23505\") {\n            if (err.constraint === \"personas_email_key\") {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Email ya registrado\"\n                }, {\n                    status: 409\n                });\n            }\n            if (err.constraint === \"usuarios_username_key\") {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Usuario ya existe\"\n                }, {\n                    status: 409\n                });\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Datos duplicados\"\n            }, {\n                status: 409\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error en el servidor\"\n        }, {\n            status: 500\n        });\n    } finally{\n        if (client) client.release();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxQ0FBcUM7QUFFckMsMkRBQTJEO0FBQ3BELE1BQU1BLFVBQVUsU0FBUztBQUVXO0FBQ2Y7QUFDRjtBQUUxQiw2Q0FBNkM7QUFDN0MsTUFBTUksbUJBQW1CQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7QUFDakQsSUFBSSxDQUFDSCxrQkFBa0I7SUFDckJJLFFBQVFDLEtBQUssQ0FBQztBQUNoQjtBQUVBLE1BQU1DLE9BQU8sSUFBSVAsb0NBQUlBLENBQUM7SUFBRUM7QUFBaUI7QUFFbEMsZUFBZU8sS0FBS0MsR0FBRztJQUM1QixJQUFJQztJQUNKLElBQUk7UUFDRixNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFLEdBQUcsTUFBTU4sSUFBSU8sSUFBSTtRQUV0RSxJQUFJLENBQUNMLFVBQVUsQ0FBQ0UsU0FBUyxDQUFDQyxZQUFZLENBQUNDLFVBQVU7WUFDL0MsT0FBT2pCLGtGQUFZQSxDQUFDa0IsSUFBSSxDQUN0QjtnQkFBRVYsT0FBTztZQUE2QixHQUN0QztnQkFBRVcsUUFBUTtZQUFJO1FBRWxCO1FBRUFQLFNBQVMsTUFBTUgsS0FBS1csT0FBTztRQUUzQixpQ0FBaUM7UUFDakMsTUFBTSxFQUFFQyxNQUFNQyxRQUFRLEVBQUUsR0FBRyxNQUFNVixPQUFPVyxLQUFLLENBQzNDLDhDQUNBO1lBQUNQO1NBQVM7UUFFWixJQUFJTSxTQUFTRSxNQUFNLEVBQUU7WUFDbkIsT0FBT3hCLGtGQUFZQSxDQUFDa0IsSUFBSSxDQUFDO2dCQUFFVixPQUFPO1lBQW9CLEdBQUc7Z0JBQUVXLFFBQVE7WUFBSTtRQUN6RTtRQUVBLE1BQU0sRUFBRUUsTUFBTUksV0FBVyxFQUFFLEdBQUcsTUFBTWIsT0FBT1csS0FBSyxDQUM5QywyQ0FDQTtZQUFDUjtTQUFNO1FBRVQsSUFBSVUsWUFBWUQsTUFBTSxFQUFFO1lBQ3RCLE9BQU94QixrRkFBWUEsQ0FBQ2tCLElBQUksQ0FBQztnQkFBRVYsT0FBTztZQUFzQixHQUFHO2dCQUFFVyxRQUFRO1lBQUk7UUFDM0U7UUFFQSwyQkFBMkI7UUFDM0IsTUFBTU8sYUFBYTtRQUNuQixNQUFNQyxnQkFBZ0IsTUFBTTFCLGtEQUFXLENBQUNnQixVQUFVUztRQUVsRCwyQ0FBMkM7UUFDM0MsTUFBTWQsT0FBT1csS0FBSyxDQUFDO1FBRW5CLE1BQU1NLGFBQWEsTUFBTWpCLE9BQU9XLEtBQUssQ0FDbkMsQ0FBQzs7bUJBRVksQ0FBQyxFQUNkO1lBQUNWO1lBQVFDLFlBQVk7WUFBTUM7U0FBTTtRQUVuQyxNQUFNZSxZQUFZRCxXQUFXUixJQUFJLENBQUMsRUFBRSxDQUFDVSxFQUFFO1FBRXZDLE1BQU1uQixPQUFPVyxLQUFLLENBQ2hCLENBQUM7MEJBQ21CLENBQUMsRUFDckI7WUFBQ087WUFBV2Q7WUFBVVc7U0FBYztRQUd0QyxNQUFNZixPQUFPVyxLQUFLLENBQUM7UUFDbkIsT0FBT3ZCLGtGQUFZQSxDQUFDa0IsSUFBSSxDQUFDO1lBQUVjLFNBQVM7UUFBaUIsR0FBRztZQUFFYixRQUFRO1FBQUk7SUFDeEUsRUFBRSxPQUFPYyxLQUFLO1FBQ1osd0RBQXdEO1FBQ3hELElBQUlyQixRQUFRO1lBQ1YsSUFBSTtnQkFBRSxNQUFNQSxPQUFPVyxLQUFLLENBQUM7WUFBYSxFQUN0QyxPQUFPVyxhQUFhO2dCQUFFM0IsUUFBUUMsS0FBSyxDQUFDLG1CQUFtQjBCO1lBQWM7UUFDdkU7UUFFQTNCLFFBQVFDLEtBQUssQ0FBQyx1QkFBdUJ5QjtRQUVyQyx5Q0FBeUM7UUFDekMsSUFBSUEsSUFBSUUsSUFBSSxLQUFLLFNBQVM7WUFDeEIsSUFBSUYsSUFBSUcsVUFBVSxLQUFLLHNCQUFzQjtnQkFDM0MsT0FBT3BDLGtGQUFZQSxDQUFDa0IsSUFBSSxDQUFDO29CQUFFVixPQUFPO2dCQUFzQixHQUFHO29CQUFFVyxRQUFRO2dCQUFJO1lBQzNFO1lBQ0EsSUFBSWMsSUFBSUcsVUFBVSxLQUFLLHlCQUF5QjtnQkFDOUMsT0FBT3BDLGtGQUFZQSxDQUFDa0IsSUFBSSxDQUFDO29CQUFFVixPQUFPO2dCQUFvQixHQUFHO29CQUFFVyxRQUFRO2dCQUFJO1lBQ3pFO1lBQ0EsT0FBT25CLGtGQUFZQSxDQUFDa0IsSUFBSSxDQUFDO2dCQUFFVixPQUFPO1lBQW1CLEdBQUc7Z0JBQUVXLFFBQVE7WUFBSTtRQUN4RTtRQUVBLE9BQU9uQixrRkFBWUEsQ0FBQ2tCLElBQUksQ0FBQztZQUFFVixPQUFPO1FBQXVCLEdBQUc7WUFBRVcsUUFBUTtRQUFJO0lBQzVFLFNBQVU7UUFDUixJQUFJUCxRQUFRQSxPQUFPeUIsT0FBTztJQUM1QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWFwcC8uL3NyYy9hcHAvYXBpL2F1dGgvcmVnaXN0ZXIvcm91dGUuanM/Zjg1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvYXBwL2FwaS9hdXRoL3JlZ2lzdGVyL3JvdXRlLmpzXHJcblxyXG4vLyAxLiBFc3RvIGZ1ZXJ6YSBxdWUgTmV4dC5qcyB1dGlsaWNlIGVsIHJ1bnRpbWUgZGUgTm9kZS5qc1xyXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XHJcblxyXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XHJcbmltcG9ydCB7IFBvb2wgfSBmcm9tIFwicGdcIjtcclxuXHJcbi8vIDIuIExlZW1vcyB5IGNvbXByb2JhbW9zIGxhIFVSTCBkZSBjb25leGnDs25cclxuY29uc3QgY29ubmVjdGlvblN0cmluZyA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcclxuaWYgKCFjb25uZWN0aW9uU3RyaW5nKSB7XHJcbiAgY29uc29sZS5lcnJvcihcIvCfk4wgTm8gZXhpc3RlIERBVEFCQVNFX1VSTCBlbiBwcm9jZXNzLmVudlwiKTtcclxufVxyXG5cclxuY29uc3QgcG9vbCA9IG5ldyBQb29sKHsgY29ubmVjdGlvblN0cmluZyB9KTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcSkge1xyXG4gIGxldCBjbGllbnQ7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgbm9tYnJlLCBhcGVsbGlkbywgZW1haWwsIHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gYXdhaXQgcmVxLmpzb24oKTtcclxuXHJcbiAgICBpZiAoIW5vbWJyZSB8fCAhZW1haWwgfHwgIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogXCJGYWx0YW4gY2FtcG9zIG9ibGlnYXRvcmlvc1wiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpZW50ID0gYXdhaXQgcG9vbC5jb25uZWN0KCk7XHJcblxyXG4gICAgLy8gMy4gQ29tcHJvYmFtb3MgdXN1YXJpbyB5IGVtYWlsXHJcbiAgICBjb25zdCB7IHJvd3M6IHVzZXJSb3dzIH0gPSBhd2FpdCBjbGllbnQucXVlcnkoXHJcbiAgICAgIFwiU0VMRUNUIDEgRlJPTSB1c3VhcmlvcyBXSEVSRSB1c2VybmFtZSA9ICQxXCIsXHJcbiAgICAgIFt1c2VybmFtZV1cclxuICAgICk7XHJcbiAgICBpZiAodXNlclJvd3MubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIlVzdWFyaW8geWEgZXhpc3RlXCIgfSwgeyBzdGF0dXM6IDQwOSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHJvd3M6IHBlcnNvbmFSb3dzIH0gPSBhd2FpdCBjbGllbnQucXVlcnkoXHJcbiAgICAgIFwiU0VMRUNUIDEgRlJPTSBwZXJzb25hcyBXSEVSRSBlbWFpbCA9ICQxXCIsXHJcbiAgICAgIFtlbWFpbF1cclxuICAgICk7XHJcbiAgICBpZiAocGVyc29uYVJvd3MubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkVtYWlsIHlhIHJlZ2lzdHJhZG9cIiB9LCB7IHN0YXR1czogNDA5IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDQuIEhhc2ggZGUgbGEgY29udHJhc2XDsWFcclxuICAgIGNvbnN0IHNhbHRSb3VuZHMgPSAxMDtcclxuICAgIGNvbnN0IHBhc3N3b3JkX2hhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XHJcblxyXG4gICAgLy8gNS4gVHJhbnNhY2Npw7NuIHBhcmEgaW5zZXJ0YXIgYW1iYXMgZmlsYXNcclxuICAgIGF3YWl0IGNsaWVudC5xdWVyeShcIkJFR0lOXCIpO1xyXG5cclxuICAgIGNvbnN0IHBlcnNvbmFSZXMgPSBhd2FpdCBjbGllbnQucXVlcnkoXHJcbiAgICAgIGBJTlNFUlQgSU5UTyBwZXJzb25hcyAobm9tYnJlLCBhcGVsbGlkbywgZW1haWwpXHJcbiAgICAgICBWQUxVRVMgKCQxLCAkMiwgJDMpXHJcbiAgICAgICBSRVRVUk5JTkcgaWRgLFxyXG4gICAgICBbbm9tYnJlLCBhcGVsbGlkbyB8fCBudWxsLCBlbWFpbF1cclxuICAgICk7XHJcbiAgICBjb25zdCBwZXJzb25hSWQgPSBwZXJzb25hUmVzLnJvd3NbMF0uaWQ7XHJcblxyXG4gICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFxyXG4gICAgICBgSU5TRVJUIElOVE8gdXN1YXJpb3MgKHBlcnNvbmFfaWQsIHVzZXJuYW1lLCBwYXNzd29yZF9oYXNoKVxyXG4gICAgICAgVkFMVUVTICgkMSwgJDIsICQzKWAsXHJcbiAgICAgIFtwZXJzb25hSWQsIHVzZXJuYW1lLCBwYXNzd29yZF9oYXNoXVxyXG4gICAgKTtcclxuXHJcbiAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJDT01NSVRcIik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiBcIlVzdWFyaW8gY3JlYWRvXCIgfSwgeyBzdGF0dXM6IDIwMSB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIC8vIFNpIGhheSBlcnJvciBkdXJhbnRlIGxhIHRyYW5zYWNjacOzbiwgaGFjZW1vcyByb2xsYmFja1xyXG4gICAgaWYgKGNsaWVudCkge1xyXG4gICAgICB0cnkgeyBhd2FpdCBjbGllbnQucXVlcnkoXCJST0xMQkFDS1wiKTsgfVxyXG4gICAgICBjYXRjaCAocm9sbGJhY2tFcnIpIHsgY29uc29sZS5lcnJvcihcIlJvbGxiYWNrIGVycm9yOlwiLCByb2xsYmFja0Vycik7IH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmVycm9yKFwiUmVnaXN0ZXIgQVBJIGVycm9yOlwiLCBlcnIpO1xyXG5cclxuICAgIC8vIE1hbmVqbyBkZSBlcnJvcmVzIMO6bmljb3MgZGUgUG9zdGdyZVNRTFxyXG4gICAgaWYgKGVyci5jb2RlID09PSBcIjIzNTA1XCIpIHtcclxuICAgICAgaWYgKGVyci5jb25zdHJhaW50ID09PSBcInBlcnNvbmFzX2VtYWlsX2tleVwiKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRW1haWwgeWEgcmVnaXN0cmFkb1wiIH0sIHsgc3RhdHVzOiA0MDkgfSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVyci5jb25zdHJhaW50ID09PSBcInVzdWFyaW9zX3VzZXJuYW1lX2tleVwiKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVXN1YXJpbyB5YSBleGlzdGVcIiB9LCB7IHN0YXR1czogNDA5IH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkRhdG9zIGR1cGxpY2Fkb3NcIiB9LCB7IHN0YXR1czogNDA5IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkVycm9yIGVuIGVsIHNlcnZpZG9yXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9IGZpbmFsbHkge1xyXG4gICAgaWYgKGNsaWVudCkgY2xpZW50LnJlbGVhc2UoKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbInJ1bnRpbWUiLCJOZXh0UmVzcG9uc2UiLCJiY3J5cHQiLCJQb29sIiwiY29ubmVjdGlvblN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJjb25zb2xlIiwiZXJyb3IiLCJwb29sIiwiUE9TVCIsInJlcSIsImNsaWVudCIsIm5vbWJyZSIsImFwZWxsaWRvIiwiZW1haWwiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwianNvbiIsInN0YXR1cyIsImNvbm5lY3QiLCJyb3dzIiwidXNlclJvd3MiLCJxdWVyeSIsImxlbmd0aCIsInBlcnNvbmFSb3dzIiwic2FsdFJvdW5kcyIsInBhc3N3b3JkX2hhc2giLCJoYXNoIiwicGVyc29uYVJlcyIsInBlcnNvbmFJZCIsImlkIiwibWVzc2FnZSIsImVyciIsInJvbGxiYWNrRXJyIiwiY29kZSIsImNvbnN0cmFpbnQiLCJyZWxlYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/register/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fregister%2Froute&page=%2Fapi%2Fauth%2Fregister%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fregister%2Froute.js&appDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmigue%5CDesktop%5Cejercicios-react%5Ctool-flow&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();